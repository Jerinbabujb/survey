{% extends 'survey/base.html' %}
{% block content %}

<div class="bg-black min-h-screen flex items-center justify-center py-10 px-4">
  <div class="bg-[#a99a68] shadow-2xl rounded-2xl w-full max-w-4xl p-6 sm:p-10">

    <div class="mb-10 text-center border-b border-black/10 pb-8">
      <h1 class="text-2xl sm:text-4xl font-extrabold text-black mb-4 uppercase tracking-tight">
        {{ current_survey_name }}
      </h1>
      
      <div class="inline-block bg-black text-[#a99a68] px-4 py-1 rounded-full mb-6 font-bold text-sm">
       {{ employee.name }} | Dept: {{ employee.department }}
      </div>

      <p class="text-black/80 text-sm sm:text-base max-w-2xl mx-auto leading-relaxed italic">
        Your responses are strictly anonymous. Completion is tracked via a secure one-way hash.
      </p>
    </div>

    {% if error %}
      <div class="bg-red-900 text-white px-4 py-3 rounded-xl mb-6 text-sm text-center font-bold">
        ⚠️ {{ error }}
      </div>
    {% endif %}

    <form method="post" action="/survey/{{ token }}" class="space-y-12">
      <div class="space-y-10">
        {% for question in questions %}
          {% set idx = loop.index %}
          <div class="bg-white/20 p-6 rounded-2xl border border-black/5 shadow-sm">
            <div class="font-bold text-black mb-6 text-xl flex gap-3">
              <span class="opacity-30">#{{ idx }}</span>
              <span>{{ question }}</span>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-5 gap-3">
              {% for score in scores %}
                <label class="cursor-pointer group">
                  <input type="radio" name="q{{ idx }}" value="{{ score }}" required class="peer hidden">
                  <div class="border-2 border-black/20 rounded-xl p-4 min-h-[100px] flex flex-col items-center justify-center text-center transition-all duration-300
                              peer-checked:border-black peer-checked:bg-white peer-checked:scale-105
                              group-hover:bg-white/40">
                    
                    <span class="font-black text-2xl text-black peer-checked:text-[#a99a68]">
                        {{ score }}
                    </span>
                    
                  </div>
                </label>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
      </div>

      <div class="pt-8 text-center">
        <button type="submit"
          class="bg-black text-[#a99a68] hover:bg-zinc-900 px-16 py-4 rounded-2xl font-black text-xl transition-all hover:scale-105 active:scale-95 shadow-xl">
          SUBMIT EVALUATION
        </button>
      </div>
    </form>
  </div>
</div>

{% endblock %}
